#------------------------------------------------------------------------------
# NVIDIA Omniverse Enterprise - Test Inventory
#------------------------------------------------------------------------------
# Environment: Test
# Values are populated from group_vars/all.yml (generated from configuration.csv)
#------------------------------------------------------------------------------

all:
  vars:
    environment: test

  children:
    #--------------------------------------------------------------------------
    # Nucleus Servers
    #--------------------------------------------------------------------------
    nucleus_servers:
      hosts:
        nucleus-primary:
          ansible_host: "{{ nucleus.primary_host }}"
          nucleus_role: primary
      vars:
        ansible_connection: ssh
        ansible_user: "{{ auth.admin_user | default('omniadmin') }}"
        ansible_become: yes

    #--------------------------------------------------------------------------
    # RTX Workstations (Test: 10 workstations)
    #--------------------------------------------------------------------------
    workstations:
      hosts:
        rtx-ws-001:
          ansible_host: 10.110.1.1
        rtx-ws-002:
          ansible_host: 10.110.1.2
        rtx-ws-003:
          ansible_host: 10.110.1.3
        rtx-ws-004:
          ansible_host: 10.110.1.4
        rtx-ws-005:
          ansible_host: 10.110.1.5
        rtx-ws-006:
          ansible_host: 10.110.1.6
        rtx-ws-007:
          ansible_host: 10.110.1.7
        rtx-ws-008:
          ansible_host: 10.110.1.8
        rtx-ws-009:
          ansible_host: 10.110.1.9
        rtx-ws-010:
          ansible_host: 10.110.1.10
      vars:
        ansible_connection: winrm
        ansible_winrm_transport: ntlm
        ansible_winrm_server_cert_validation: ignore
        ansible_user: "{{ auth.admin_user | default('omniadmin') }}"

    #--------------------------------------------------------------------------
    # Infrastructure Services
    #--------------------------------------------------------------------------
    monitoring:
      hosts:
        prometheus-server:
          ansible_host: "{{ monitoring.prometheus_server }}"
        grafana-server:
          ansible_host: "{{ monitoring.grafana_server }}"
      vars:
        ansible_connection: ssh
        ansible_user: "{{ auth.admin_user | default('svcadmin') }}"
        ansible_become: yes

    #--------------------------------------------------------------------------
    # Local Execution
    #--------------------------------------------------------------------------
    localhost:
      hosts:
        localhost:
          ansible_connection: local
          ansible_python_interpreter: "{{ ansible_playbook_python }}"
