#------------------------------------------------------------------------------
# Cisco DNA Center Network Analytics - Ansible Inventory
#------------------------------------------------------------------------------
# This inventory is used by Ansible playbooks to target hosts.
# Values are populated from vars/generated/*.yml files.
#------------------------------------------------------------------------------

all:
  children:
    #--------------------------------------------------------------------------
    # DNA Center Appliances
    #--------------------------------------------------------------------------
    dnac_appliances:
      hosts:
        dnac-primary:
          ansible_host: "{{ dnac.primary_ip }}"
        dnac-secondary:
          ansible_host: "{{ dnac.secondary_ip }}"
      vars:
        ansible_connection: httpapi
        ansible_httpapi_use_ssl: true
        ansible_httpapi_validate_certs: "{{ dnac.ssl_verify }}"
        ansible_network_os: cisco.dnac.dnac
        dnac_host: "{{ dnac.vip }}"
        dnac_username: "{{ dnac.admin_user }}"
        dnac_password: "{{ vault_dnac_admin_password }}"

    #--------------------------------------------------------------------------
    # Network Devices (Pilot Phase)
    #--------------------------------------------------------------------------
    pilot_devices:
      hosts:
        # Placeholder - populate from NetBox or DNA Center discovery
      vars:
        ansible_connection: network_cli
        ansible_network_os: cisco.ios.ios
        ansible_user: "{{ devices.cli_username }}"
        ansible_password: "{{ vault_device_cli_password }}"
        ansible_become: yes
        ansible_become_method: enable
        ansible_become_password: "{{ vault_device_enable_secret }}"

    #--------------------------------------------------------------------------
    # Network Devices (Production - All)
    #--------------------------------------------------------------------------
    network_devices:
      children:
        pilot_devices:
      vars:
        ansible_connection: network_cli
        ansible_network_os: cisco.ios.ios
        ansible_user: "{{ devices.cli_username }}"
        ansible_password: "{{ vault_device_cli_password }}"
        ansible_become: yes
        ansible_become_method: enable
        ansible_become_password: "{{ vault_device_enable_secret }}"

    #--------------------------------------------------------------------------
    # Local Execution (for API calls)
    #--------------------------------------------------------------------------
    localhost:
      hosts:
        localhost:
          ansible_connection: local
          ansible_python_interpreter: "{{ ansible_playbook_python }}"
