---
#------------------------------------------------------------------------------
# Cisco ISE Secure Access - Test Inventory
#------------------------------------------------------------------------------
# Environment: Test
# This inventory uses variables from vars/generated/
#------------------------------------------------------------------------------

all:
  hosts:
    localhost:
      ansible_connection: local
      ansible_python_interpreter: "{{ ansible_playbook_python }}"

  children:
    #--------------------------------------------------------------------------
    # ISE Cluster - Policy Administration Nodes (PAN)
    #--------------------------------------------------------------------------
    ise_pan:
      hosts:
        ise_primary:
          ansible_host: "{{ ise.primary_pan }}"
          ise_hostname: "ise-pan-01-test.client.local"
          ise_role: "primary"
        ise_secondary:
          ansible_host: "{{ ise.secondary_pan }}"
          ise_hostname: "ise-pan-02-test.client.local"
          ise_role: "secondary"
      vars:
        ansible_connection: local
        ise_username: "{{ ise.admin_user }}"
        ise_password: "{{ vault_ise_admin_password_test }}"
        ise_verify: false
        ise_debug: true
        ise_use_ers_api: true
        ise_ers_port: 9060

    #--------------------------------------------------------------------------
    # ISE Policy Service Nodes (PSN) - RADIUS Authentication
    #--------------------------------------------------------------------------
    ise_psn:
      hosts:
        ise_psn_01:
          ansible_host: "ise-psn-01-test.client.local"
          ise_role: "psn"
      vars:
        ansible_connection: local
        radius_secret: "{{ vault_ise_radius_secret_test }}"

    #--------------------------------------------------------------------------
    # Network Devices - Switches for 802.1X
    #--------------------------------------------------------------------------
    network_switches:
      hosts:
        # Test lab switches
      vars:
        ansible_network_os: cisco.ios.ios
        ansible_connection: ansible.netcommon.network_cli
        ansible_become: true
        ansible_become_method: enable
        radius_server_group: ISE-RADIUS-TEST

    #--------------------------------------------------------------------------
    # Wireless LAN Controllers
    #--------------------------------------------------------------------------
    wireless_controllers:
      hosts:
        # Test WLC
      vars:
        ansible_network_os: cisco.ios.ios
        ansible_connection: ansible.netcommon.network_cli

  vars:
    # Environment-specific variables
    environment: test
    ise_deployment_size: small
    ise_user_count: 500
    ise_device_count: 200
